<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>환율계산 설정</title>
  <style>
    body { margin:0; padding:16px; font-family:-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto; }
    .back-btn { font-size:24px; cursor:pointer; display:inline-block; margin-bottom:24px; }
    .section { margin-bottom:32px; }
    label { display:block; margin-bottom:8px; font-weight:500; }
    input { width:100%; padding:8px; font-size:16px; box-sizing:border-box; }
    button { margin-right:12px; margin-top:12px; padding:8px 16px; font-size:16px; cursor:pointer; }
  </style>
</head>
<body>
  <!-- 1) 뒤로가기 버튼 -->
  <div>
    <span id="goBack" class="back-btn">← 뒤로</span>
  </div>

  <!-- (기본·목적 통화 설정 UI는 그대로 두시거나 추후 추가) -->

  <!-- 2) 직접 환율 입력 섹션 -->
  <div class="section">
    <label for="customRate">직접 환율 입력 (1 USD → KRW)</label>
    <input id="customRate" type="number" step="0.000001" placeholder="예) 1422" />
    <div>
      <button id="saveRate">저장하기</button>
      <button id="clearRate">초기화</button>
    </div>
  </div>

  <script>
    // 뒤로가기
    document.getElementById('goBack').onclick = () => history.back();

    const inp = document.getElementById('customRate');
    // 저장된 값 불러오기
    const saved = localStorage.getItem('customRate');
    if (saved) inp.value = saved;

    // 저장 버튼
    document.getElementById('saveRate').onclick = () => {
      const v = inp.value;
      if (v && !isNaN(v) && Number(v)>0) {
        localStorage.setItem('customRate', v);
        alert('직접 환율이 저장되었습니다.');
        history.back();
      } else {
        alert('올바른 환율을 입력해주세요.');
      }
    };

    // 초기화 버튼
    document.getElementById('clearRate').onclick = () => {
      localStorage.removeItem('customRate');
      inp.value = '';
      alert('사용자 환율 설정이 초기화되었습니다.');
    };
  </script>
</body>
</html>
